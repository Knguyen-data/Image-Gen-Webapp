{"id":"Image Gen Webapp-1k8","title":"Kling Motion Control - IndexedDB Video Storage","description":"Extend IndexedDB schema to store generated videos. Add video runs alongside image runs.","status":"closed","priority":2,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-05T09:23:42.9115889-06:00","created_by":"Knguyen-data","updated_at":"2026-02-05T10:19:20.0111299-06:00","closed_at":"2026-02-05T10:19:20.0111299-06:00","close_reason":"Completed: IndexedDB video storage service for storing video files"}
{"id":"Image Gen Webapp-2c2","title":"Kling Motion Control - Service Layer","description":"Create kling-motion-control-service.ts using same async polling pattern as Seedream. Reuse Kie.ai API infrastructure.","status":"closed","priority":1,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-05T09:23:25.0751373-06:00","created_by":"Knguyen-data","updated_at":"2026-02-05T10:09:44.696322-06:00","closed_at":"2026-02-05T10:09:44.696322-06:00","close_reason":"Completed: Kling Motion Control service with file stream upload, validation, and async polling"}
{"id":"Image Gen Webapp-3n0","title":"Implement Spicy Mode - Seedream v4 img-to-img editing","description":"Implement Seedream v4.5 img-to-img editing feature (Spicy Mode).\n\nPLAN: plans/260204-2054-spicy-mode-seedream-integration/\n\nPHASES:\n1. Seedream service (upload, task, poll, rate limiter)\n2. UI toggle with chili icon, conditional rendering\n2.5. Credit monitoring (balance badge, auto-refresh)\n3. Integration with generation flow\n4. Unit tests\n\nKEY CONSTRAINTS:\n- Rate limit: 20 req/10s (token bucket)\n- Quality: basic (2K) / high (4K) only\n- No temperature param in Seedream\n- Async polling (not sync like Gemini)\n\nBRANCH: spicy_mode","status":"closed","priority":2,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-04T20:52:31.3724496-06:00","created_by":"Knguyen-data","updated_at":"2026-02-04T22:34:17.1166472-06:00","closed_at":"2026-02-04T22:34:17.1166472-06:00","close_reason":"Implemented Spicy Mode with Seedream 4.5 integration, unified API key modal, and centralized logging system"}
{"id":"Image Gen Webapp-484","title":"UI Fix: Title shrinking on Spicy Mode toggle","description":"Fixed header title shrinking by adding flex-shrink-0 and min-w-[140px] to header element","status":"closed","priority":2,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-05T07:47:51.1982652-06:00","created_by":"Knguyen-data","updated_at":"2026-02-05T07:48:13.0138043-06:00","closed_at":"2026-02-05T07:48:13.0138043-06:00","close_reason":"Completed - Added flex-shrink-0 min-w-[140px] to header in left-panel.tsx:194"}
{"id":"Image Gen Webapp-58m","title":"Bug Fix: Retry creates new run instead of appending","description":"Fixed retry to find original run and append image instead of creating new 'RETRY:' run","status":"closed","priority":2,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-05T07:47:52.9435342-06:00","created_by":"Knguyen-data","updated_at":"2026-02-05T07:48:14.7161142-06:00","closed_at":"2026-02-05T07:48:14.7161142-06:00","close_reason":"Completed - Updated handleRetry in app.tsx to find original run and append image"}
{"id":"Image Gen Webapp-615","title":"Video mode critical fixes: persistence, playback, size slider, activity panel","description":"Implementing 4-phase rate limiter and activity panel plan. Phase 01 (Unified Kie.ai Rate Limiter) COMPLETE. Phase 02 (Gemini Batch Optimization) COMPLETE. Phase 03 (Video Slider Verification) COMPLETE. Phase 04 (Activity Panel) PENDING.","status":"closed","priority":0,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-05T20:50:22.9247955-06:00","created_by":"Knguyen-data","updated_at":"2026-02-05T21:44:20.5322253-06:00","closed_at":"2026-02-05T21:44:20.5322253-06:00","close_reason":"All 4 phases complete: (1) Unified Kie.ai rate limiter - single 20/10s bucket shared by Seedream+Kling, (2) Gemini batch optimization - size 20, delay 70s, (3) Video slider verified working, (4) Activity Panel - floating non-blocking progress UI with logs. Build passes."}
{"id":"Image Gen Webapp-6nf","title":"UI Fix: Smart generate button logic","description":"Implemented conditional rendering for Generate/Batch Run buttons based on prompt count. Logic: 0-1 prompts show Generate button (full-width), 2+ prompts show Batch Run button (full-width). Fixed from initial implementation that only handled count===1.","status":"closed","priority":2,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-05T07:56:34.619882-06:00","created_by":"Knguyen-data","updated_at":"2026-02-05T08:10:27.4081462-06:00","closed_at":"2026-02-05T07:56:53.5819418-06:00","close_reason":"Implemented conditional rendering in left-panel.tsx:654-682. Generate button for single prompt, Batch Run button for multiple prompts. TypeScript passes, full-width button layout."}
{"id":"Image Gen Webapp-7q3","title":"Documentation: Enforce mandatory context management in CLAUDE.md","description":"Enhanced CLAUDE.md with strict requirements for context management. Every user prompt must now trigger: 1) bd ready + mcp__memory__read_graph FIRST, 2) Create/update Beads task, 3) Execute work, 4) Update both Beads and Knowledge Graph after completion. Added visual workflow diagram and violation consequences. Non-negotiable enforcement.","status":"closed","priority":1,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-05T08:14:22.919724-06:00","created_by":"Knguyen-data","updated_at":"2026-02-05T08:14:36.3612631-06:00","closed_at":"2026-02-05T08:14:36.3612631-06:00","close_reason":"Completed: Enhanced CLAUDE.md with mandatory context management workflow. Added 4-step enforced process (read context → create task → execute → update context), visual workflow diagram, strict rules section, violation consequences, and comprehensive command reference. File: CLAUDE.md lines 90-220 replaced old Session Continuity section."}
{"id":"Image Gen Webapp-7qx","title":"Video Trimmer Modal Component","description":"Create video-trimmer-modal.tsx. Shows when video exceeds duration limit. Includes playback preview, timeline slider, start/end selection, and clip extraction.","status":"closed","priority":2,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-05T09:39:53.5790242-06:00","created_by":"Knguyen-data","updated_at":"2026-02-05T10:19:19.6799973-06:00","closed_at":"2026-02-05T10:19:19.6799973-06:00","close_reason":"Completed: Video trimmer modal with timeline slider and duration validation"}
{"id":"Image Gen Webapp-8cm","title":"Add Seedream Txt2Img - Create seedream-txt2img-service.ts for text-to-image","status":"closed","priority":1,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-04T23:24:32.8789366-06:00","created_by":"Knguyen-data","updated_at":"2026-02-04T23:53:57.5604833-06:00","closed_at":"2026-02-04T23:53:57.5604833-06:00","close_reason":"Created seedream-txt2img-service.ts with text-to-image generation flow"}
{"id":"Image Gen Webapp-9fr","title":"Video mode complete fix - P0 DB blocker + P1 settings/header/spicy","description":"ASPECT RATIO FIX: Changed video-dimensions.ts getVideoAspectRatioCSS() to use simplified aspect ratio (e.g., 16/9) instead of raw pixel dimensions (e.g., 1920/1080). This ensures CSS aspect-ratio property works correctly for all video resolutions. Build status: PASS","status":"closed","priority":0,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-05T10:55:08.6832686-06:00","created_by":"Knguyen-data","updated_at":"2026-02-05T16:33:21.2516832-06:00","closed_at":"2026-02-05T16:33:21.2516832-06:00","close_reason":"COMPLETED: Fixed aspect ratio issue in video mode. Changed video-dimensions.ts getVideoAspectRatioCSS() to use simplified GCD-based ratio (e.g., 16/9) instead of raw pixel dimensions (e.g., 1920/1080). This ensures CSS aspect-ratio property works correctly for all video resolutions. Build: PASS (1.10s). File modified: src/utils/video-dimensions.ts:58"}
{"id":"Image Gen Webapp-bde","title":"Kling Motion Control - Video Gallery","description":"Add video display in shared gallery. Video player thumbnails with play button, duration badge, download/retry actions.","status":"closed","priority":2,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-05T09:23:27.6266084-06:00","created_by":"Knguyen-data","updated_at":"2026-02-05T10:16:59.3948471-06:00","closed_at":"2026-02-05T10:16:59.3948471-06:00","close_reason":"Completed: Video gallery with player, controls, download, delete, and retry functionality. TypeScript compiles successfully."}
{"id":"Image Gen Webapp-cc5","title":"Kling Motion Control - Types and State","description":"Add TypeScript types for VideoScene, VideoSettings, GeneratedVideo. Update app state to handle video mode.","status":"closed","priority":1,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-05T09:23:41.6790108-06:00","created_by":"Knguyen-data","updated_at":"2026-02-05T10:05:53.9694004-06:00","closed_at":"2026-02-05T10:05:53.9694004-06:00","close_reason":"Completed: Added video mode types and state management"}
{"id":"Image Gen Webapp-cux","title":"Unify API Key UI - Remove Kie.ai key from settings, add tabs to key modal","status":"closed","priority":1,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-04T23:24:31.3998352-06:00","created_by":"Knguyen-data","updated_at":"2026-02-04T23:52:50.7907093-06:00","closed_at":"2026-02-04T23:52:50.7907093-06:00","close_reason":"Unified API key modal with tabs implemented. Removed separate Kie.ai key button from settings panel."}
{"id":"Image Gen Webapp-djj","title":"Image Card Retry - Store generatedBy metadata, retry with same model","status":"closed","priority":2,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-04T23:24:35.7431944-06:00","created_by":"Knguyen-data","updated_at":"2026-02-05T07:47:30.7608617-06:00","closed_at":"2026-02-05T07:47:30.7608617-06:00","close_reason":"Completed - Implemented generatedBy metadata and retry logic for all models (gemini, seedream-edit, seedream-txt2img)"}
{"id":"Image Gen Webapp-fnk","title":"Kling 2.6 Motion Control - UI Mode Toggle","description":"Add Image/Video mode toggle in right panel header. Toggle switches between image generation and video generation modes.","status":"closed","priority":1,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-05T09:23:13.7419781-06:00","created_by":"Knguyen-data","updated_at":"2026-02-05T10:11:24.3626245-06:00","closed_at":"2026-02-05T10:11:24.3626245-06:00","close_reason":"Completed: Image/Video mode toggle with adaptive UI. Added toggle in right panel header, passed appMode state through components, added video mode placeholder in left panel."}
{"id":"Image Gen Webapp-j7m","title":"Document aspect ratio fix in changelog","description":"Update project changelog with comprehensive aspect ratio fix details - fixed all 3 video preview locations (global, per-scene, trimmer modal) to use dynamic aspect ratio detection instead of hardcoded 16:9","status":"closed","priority":3,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-05T16:40:01.7594045-06:00","created_by":"Knguyen-data","updated_at":"2026-02-05T17:09:20.4863767-06:00","closed_at":"2026-02-05T17:09:20.4863767-06:00","close_reason":"Completed: Updated project-changelog.md with v1.2.1 release documenting: (1) Dynamic aspect ratio detection for videos - fixed video-dimensions.ts to return simplified ratios, added detection hooks to video-scene-queue.tsx and video-trimmer-modal.tsx (2) Fixed reference images cropping by changing object-cover to object-contain in scene queue and left panel (3) Fixed credit balance UI overlap by consolidating displays (4) Relocated spicy toggle to header next to API key icon for better UX. All changes tested with successful build (1.09s)."}
{"id":"Image Gen Webapp-lx5","title":"MCP server test verification","status":"closed","priority":2,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-04T17:15:58.5934494-06:00","created_by":"Knguyen-data","updated_at":"2026-02-04T17:17:05.2461618-06:00","closed_at":"2026-02-04T17:17:05.2461618-06:00","close_reason":"Closed"}
{"id":"Image Gen Webapp-n38","title":"Spicy Sub-Mode - Add Edit/Generate toggle when Spicy ON","status":"closed","priority":1,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-04T23:24:34.3443649-06:00","created_by":"Knguyen-data","updated_at":"2026-02-04T23:58:24.5424438-06:00","closed_at":"2026-02-04T23:58:24.5424438-06:00","close_reason":"Added Spicy Sub-Mode toggle (Edit/Generate) with branching logic for txt2img and edit services"}
{"id":"Image Gen Webapp-rpn","title":"Fix video mode UI issues after compaction","description":"Remove redundant generate button (should move existing one instead). Fix credit monitoring icon visibility in video header. Fix motion prompt toggle - currently non-functional and not interactable. Files: src/components/left-panel.tsx, src/components/video-scene-queue.tsx","status":"closed","priority":2,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-05T17:43:14.6868857-06:00","created_by":"Knguyen-data","updated_at":"2026-02-05T20:45:56.0805055-06:00","closed_at":"2026-02-05T20:45:56.0805055-06:00","close_reason":"Completed all three fixes: 1) No redundant button found (only one exists), 2) Fixed credit badge by removing spicyModeEnabled dependency from useSeedreamCredits hook, 3) Added toggleSceneUsePrompt function for prompt toggle. Build passes (1.14s). Files: src/hooks/use-seedream-credits.ts, src/components/left-panel.tsx (removed duplicate button lines 485-509), src/components/video-scene-queue.tsx (added toggle function). Changelog updated to v1.2.2."}
{"id":"Image Gen Webapp-s6e","title":"Kling Motion Control - Scene Queue UI","description":"Implement scene queue in left panel for video mode. Support drag-drop from gallery, per-scene prompts, global/per-scene video toggle.","status":"closed","priority":1,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-05T09:23:26.3542476-06:00","created_by":"Knguyen-data","updated_at":"2026-02-05T10:19:19.3796341-06:00","closed_at":"2026-02-05T10:19:19.3796341-06:00","close_reason":"Completed: Scene queue with drag-drop from gallery, supports global/per-scene video modes"}
{"id":"Image Gen Webapp-v9r","title":"UI Improvement: Relocate Spicy Mode controls","description":"Moved Spicy Mode toggle to dedicated Generation Mode section between header and Prompt Queue for better layout","status":"closed","priority":2,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-05T07:47:54.6782727-06:00","created_by":"Knguyen-data","updated_at":"2026-02-05T07:48:16.4158991-06:00","closed_at":"2026-02-05T07:48:16.4158991-06:00","close_reason":"Completed - Created dedicated Generation Mode section in left-panel.tsx between header and Prompt Queue"}
{"id":"Image Gen Webapp-vmx","title":"Modify Modal - Add model selector dropdown (Nano Banana Pro or Seedream 4.5 Edit)","status":"closed","priority":2,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-04T23:24:37.2262967-06:00","created_by":"Knguyen-data","updated_at":"2026-02-05T07:47:29.0248646-06:00","closed_at":"2026-02-05T07:47:29.0248646-06:00","close_reason":"Completed - Added model selector to modify modal with Gemini/Seedream options"}
{"id":"Image Gen Webapp-xox","title":"Add placeholder image cards - instant cards on generation start","description":"When user starts generating images, placeholder cards should appear immediately (e.g., 10 prompts = 10 placeholder cards with loading spinner). Cards render actual image on success, disappear on failure. Part of Activity Panel feature.","status":"closed","priority":1,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-05T21:55:54.9117596-06:00","created_by":"Knguyen-data","updated_at":"2026-02-05T23:38:55.425858-06:00","closed_at":"2026-02-05T23:38:55.425858-06:00","close_reason":"Partial implementation: status field added to GeneratedImage, image-card.tsx loading states, Stop button removed for parallel generation. Full placeholder logic in app.tsx pending."}
