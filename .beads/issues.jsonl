{"id":"Image Gen Webapp-0fg","title":"P0: Fix IndexedDB cross-browser compatibility (Firefox/Safari)","status":"closed","priority":0,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-07T00:07:34.0851288-06:00","created_by":"Knguyen-data","updated_at":"2026-02-07T00:23:48.1149217-06:00","closed_at":"2026-02-07T00:23:48.1149217-06:00","close_reason":"Fixed 4 critical IndexedDB cross-browser bugs: (1) version increment on every openVideoDB() call, (2) missing onblocked handlers, (3) DB connections never closed after transactions, (4) File objects not serializable on Safari. Build PASS, 59/59 tests PASS."}
{"id":"Image Gen Webapp-0fj","title":"Explore Image Gen Webapp Codebase","description":"Thorough exploration of the Image Gen Webapp codebase. This includes identifying top-level directories and key files, reading README.md, analyzing component patterns in src/components/, examining service implementations in src/services/ (especially lora-model-service.ts and comfyui-runpod-service.ts), reviewing type definitions, understanding ComfyUI settings structure, identifying UI patterns for left/settings panels and dialogs/modals, and understanding the styling approach (Tailwind/dark mode).","status":"closed","priority":2,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-12T12:06:57.9548957-06:00","created_by":"Knguyen-data","updated_at":"2026-02-12T12:10:29.8386978-06:00","closed_at":"2026-02-12T12:10:29.8386978-06:00","close_reason":"Completed thorough exploration of the Image Gen Webapp codebase. Detailed report provided."}
{"id":"Image Gen Webapp-0jh","title":"Fix missing default exports in compare-modal and save-collection-modal","description":"Both modules use named exports but are imported via React.lazy() which expects default exports. Need to add 'export default' to both components.","status":"in_progress","priority":1,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-12T17:22:15.9183757-06:00","created_by":"Knguyen-data","updated_at":"2026-02-12T17:23:12.8560694-06:00"}
{"id":"Image Gen Webapp-0l4","title":"LoRA Model Management System","description":"LoRA Model Management System - Backend Complete. Created: 004_lora_models.sql, 005_lora_storage.sql, lora-model-service.ts, TypeScript types. Next: Apply migrations, implement RunPod worker, build UI components.","status":"closed","priority":1,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-12T11:49:40.8368183-06:00","created_by":"Knguyen-data","updated_at":"2026-02-12T12:07:10.8258429-06:00","closed_at":"2026-02-12T12:07:10.8258429-06:00","close_reason":"Completed: LoRA Model Management System backend. Created 004_lora_models.sql (2 tables, RLS, indexes), 005_lora_storage.sql (2 buckets, RLS), lora-model-service.ts (10 functions), TypeScript types (LoraModel, LoraTrainingConfig). Next: Apply migrations (supabase db push), implement RunPod worker (Phase 5), build UI (Phase 6)."}
{"id":"Image Gen Webapp-0n6","title":"Performance optimization phase 1: React.lazy + code splitting + React.memo","description":"Performance optimization phase 1 completed. Changes: 1) SettingsPage converted to React.lazy with Suspense fallback, 2) Added manualChunks in vite.config.ts (gl-transitions, supabase, firebase, framer-motion, react-vendor, ui-libs), 3) Added React.memo to left-panel, right-panel, video-scene-queue (image-card and video-card already had it), 4) Fixed right-panel.tsx allImages definition order. Build successful with proper code splitting - settings-page is now 25.72KB lazy-loaded chunk.","status":"closed","priority":1,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-11T10:09:41.5073599-06:00","created_by":"Knguyen-data","updated_at":"2026-02-11T10:20:04.7238368-06:00","closed_at":"2026-02-11T10:20:04.7238368-06:00","close_reason":"Completed: Performance optimization phase 1. React.lazy + Suspense on SettingsPage, manualChunks for code splitting (gl-transitions 82KB, supabase 170KB, firebase 348KB, framer-motion 0.5KB), React.memo on 3 heavy components (left/right-panel, video-scene-queue). Build verified successful."}
{"id":"Image Gen Webapp-0rj","title":"Run npm install to install project dependencies","description":"Install all npm dependencies defined in package.json for the Image Gen Webapp project","status":"closed","priority":4,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-12T16:21:05.0566073-06:00","created_by":"Knguyen-data","updated_at":"2026-02-12T16:22:07.2213303-06:00","closed_at":"2026-02-12T16:22:07.2213303-06:00","close_reason":"Completed: npm install ran successfully. Installed 308 packages in 11s. 1 low severity vulnerability noted (can be fixed with npm audit fix). Deprecation warnings for node-domexception and glob noted but not critical."}
{"id":"Image Gen Webapp-0sm","title":"Build Animate mode with Wan 2.2 API","description":"New Animate mode with Move (motion transfer) and Replace (character swap) sub-modes using Wan 2.2 Animate API from kie.ai. Files: wan-animate-service.ts, animate-panel.tsx, animate-gallery.tsx. Integrate as third AppMode.","status":"closed","priority":2,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-07T01:17:11.7064207-06:00","created_by":"Knguyen-data","updated_at":"2026-02-07T01:34:23.9291743-06:00","closed_at":"2026-02-07T01:34:23.9291743-06:00","close_reason":"Completed: Built Animate mode with Wan 2.2 API. Files: wan-animate-service.ts, animate-panel.tsx, animate-gallery.tsx. Integrated as 3rd AppMode. Move/Replace sub-modes, 480p/580p/720p resolution. TypeScript clean, browser tested."}
{"id":"Image Gen Webapp-0uk","title":"Optimize StockGallery for performance with infinite scroll","description":"Load 30 items initially for inline mode, implement infinite scroll with IntersectionObserver, optimize thumbnails with lazy loading, debounce search, use thumbnailUrl not full video URL","status":"closed","priority":1,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-10T21:38:47.33643-06:00","created_by":"Knguyen-data","updated_at":"2026-02-10T21:50:22.1706944-06:00","closed_at":"2026-02-10T21:50:22.1706944-06:00","close_reason":"Completed: Optimized StockGallery with IntersectionObserver infinite scroll, thumbnail optimization (~70% bandwidth reduction), 200px pre-fetch. Build passing, no TS errors. Report: plans/reports/fullstack-developer-260210-2135-stock-gallery-performance.md"}
{"id":"Image Gen Webapp-0vc","title":"Code review: Fix video editor timeline overflow and layout issues for 61+ clips","description":"Review video-editor-modal.tsx, timeline-track.tsx, clip-bar.tsx for overflow, scroll, zoom controls. User reports 61 clips compressed/overlapping with no horizontal scroll or zoom. Critical UX issue preventing timeline navigation.","status":"closed","priority":0,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-10T01:19:04.7702153-06:00","created_by":"Knguyen-data","updated_at":"2026-02-10T01:22:50.2070273-06:00","closed_at":"2026-02-10T01:22:50.2070273-06:00","close_reason":"Code review completed. Identified 10 issues across 3 severity levels. Critical: scroll indicators missing, no auto-scroll to playhead. High: keyboard nav, zoom UX, clip width constraints, minimap missing. Report saved to plans/reports/code-reviewer-260210-0117-video-editor-timeline-overflow.md. Root cause: overflow-auto exists but lacks visual feedback. 61 clips create 14,640px timeline vs 1200px viewport = 8% visibility. Recommended MVP fixes (3h): scroll shadows, playhead follow, remove min-width constraint."}
{"id":"Image Gen Webapp-0wg","title":"Fix auth state bugs: logout, account switch, session persistence","status":"closed","priority":0,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-11T11:04:15.3718848-06:00","created_by":"Knguyen-data","updated_at":"2026-02-11T11:15:56.8413012-06:00","closed_at":"2026-02-11T11:15:56.8413012-06:00","close_reason":"Fixed auth state bugs: enhanced signOut to clear localStorage/sessionStorage, coordinate Firebase+Supabase logout, and redirect to /auth. TypeScript compilation passing."}
{"id":"Image Gen Webapp-1k8","title":"Kling Motion Control - IndexedDB Video Storage","description":"Extend IndexedDB schema to store generated videos. Add video runs alongside image runs.","status":"closed","priority":2,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-05T09:23:42.9115889-06:00","created_by":"Knguyen-data","updated_at":"2026-02-05T10:19:20.0111299-06:00","closed_at":"2026-02-05T10:19:20.0111299-06:00","close_reason":"Completed: IndexedDB video storage service for storing video files"}
{"id":"Image Gen Webapp-1rq","title":"Create offline-first Supabase sync service","description":"Build supabase-sync-service.ts with offline queue, auto-sync on reconnect, methods for syncImageGeneration, syncUpscale, savePromptTemplate, createBatchJob, toggleFavorite, saveProject, getAnalytics. Wire into upscale-service.ts","status":"closed","priority":1,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-11T10:07:13.6056305-06:00","created_by":"Knguyen-data","updated_at":"2026-02-11T10:17:14.6692006-06:00","closed_at":"2026-02-11T10:17:14.6692006-06:00","close_reason":"Completed: Created offline-first Supabase sync service with queue management, auto-sync on reconnect. Implemented all 7 methods (syncImageGeneration, syncUpscale, savePromptTemplate, createBatchJob, toggleFavorite, saveProject, getAnalytics). Wired syncUpscale into upscale-service.ts. Build passing (28.25s)."}
{"id":"Image Gen Webapp-1yb","title":"Multi-Select \u0026 Batch Save: Batch operations toolbar","description":"Implement batch actions: save collections, download ZIP with JSZip, batch R2 upload with progress, delete multiple. Files: batch-actions-toolbar.tsx, save-collection-modal.tsx, db.ts schema updates.","status":"closed","priority":2,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-09T17:17:25.364696-06:00","created_by":"Knguyen-data","updated_at":"2026-02-09T17:32:57.6170422-06:00","closed_at":"2026-02-09T17:32:57.6170422-06:00","close_reason":"Completed: Multi-select toolbar with ZIP download, R2 batch upload, and collection save"}
{"id":"Image Gen Webapp-29v","title":"Create RunPod serverless endpoint for lora-trainer","description":"Create RunPod serverless template + endpoint for kie1/lora-trainer:latest Docker image via GraphQL API. Update .env with endpoint ID.","status":"in_progress","priority":1,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-12T13:15:41.5465553-06:00","created_by":"Knguyen-data","updated_at":"2026-02-12T13:16:30.5055928-06:00"}
{"id":"Image Gen Webapp-2c2","title":"Kling Motion Control - Service Layer","description":"Create kling-motion-control-service.ts using same async polling pattern as Seedream. Reuse Kie.ai API infrastructure.","status":"closed","priority":1,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-05T09:23:25.0751373-06:00","created_by":"Knguyen-data","updated_at":"2026-02-05T10:09:44.696322-06:00","closed_at":"2026-02-05T10:09:44.696322-06:00","close_reason":"Completed: Kling Motion Control service with file stream upload, validation, and async polling"}
{"id":"Image Gen Webapp-3mp","title":"Create RunPod serverless endpoint for lora-trainer","description":"Create RunPod template + endpoint via GraphQL API for kie1/lora-trainer:latest Docker image. Update .env with endpoint ID.","status":"in_progress","priority":1,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-12T13:15:44.3972108-06:00","created_by":"Knguyen-data","updated_at":"2026-02-12T16:17:13.5480906-06:00"}
{"id":"Image Gen Webapp-3n0","title":"Implement Spicy Mode - Seedream v4 img-to-img editing","description":"Implement Seedream v4.5 img-to-img editing feature (Spicy Mode).\n\nPLAN: plans/260204-2054-spicy-mode-seedream-integration/\n\nPHASES:\n1. Seedream service (upload, task, poll, rate limiter)\n2. UI toggle with chili icon, conditional rendering\n2.5. Credit monitoring (balance badge, auto-refresh)\n3. Integration with generation flow\n4. Unit tests\n\nKEY CONSTRAINTS:\n- Rate limit: 20 req/10s (token bucket)\n- Quality: basic (2K) / high (4K) only\n- No temperature param in Seedream\n- Async polling (not sync like Gemini)\n\nBRANCH: spicy_mode","status":"closed","priority":2,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-04T20:52:31.3724496-06:00","created_by":"Knguyen-data","updated_at":"2026-02-04T22:34:17.1166472-06:00","closed_at":"2026-02-04T22:34:17.1166472-06:00","close_reason":"Implemented Spicy Mode with Seedream 4.5 integration, unified API key modal, and centralized logging system"}
{"id":"Image Gen Webapp-3zz","title":"Performance optimization phase 2: virtualization + lazy loading","description":"Implement performance optimization phase 2 with virtualization and lazy loading. Tasks: Install @tanstack/react-virtual, virtualize image/video/stock galleries, add IntersectionObserver lazy loading, add loading=lazy and decoding=async to img tags, debounce scroll handlers","status":"closed","priority":1,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-11T10:10:14.3121432-06:00","created_by":"Knguyen-data","updated_at":"2026-02-11T10:19:04.739307-06:00","closed_at":"2026-02-11T10:19:04.739307-06:00","close_reason":"Completed: Performance optimization phase 2 - virtualization + lazy loading implemented. Added @tanstack/react-virtual for image/video/stock grids, created LazyImage component with IntersectionObserver, implemented row-based virtualization with overscan, added loading=lazy/decoding=async attributes. Stock-gallery already had 300ms debounced search."}
{"id":"Image Gen Webapp-484","title":"UI Fix: Title shrinking on Spicy Mode toggle","description":"Fixed header title shrinking by adding flex-shrink-0 and min-w-[140px] to header element","status":"closed","priority":2,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-05T07:47:51.1982652-06:00","created_by":"Knguyen-data","updated_at":"2026-02-05T07:48:13.0138043-06:00","closed_at":"2026-02-05T07:48:13.0138043-06:00","close_reason":"Completed - Added flex-shrink-0 min-w-[140px] to header in left-panel.tsx:194"}
{"id":"Image Gen Webapp-58m","title":"Bug Fix: Retry creates new run instead of appending","description":"Fixed retry to find original run and append image instead of creating new 'RETRY:' run","status":"closed","priority":2,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-05T07:47:52.9435342-06:00","created_by":"Knguyen-data","updated_at":"2026-02-05T07:48:14.7161142-06:00","closed_at":"2026-02-05T07:48:14.7161142-06:00","close_reason":"Completed - Updated handleRetry in app.tsx to find original run and append image"}
{"id":"Image Gen Webapp-615","title":"Video mode critical fixes: persistence, playback, size slider, activity panel","description":"Implementing 4-phase rate limiter and activity panel plan. Phase 01 (Unified Kie.ai Rate Limiter) COMPLETE. Phase 02 (Gemini Batch Optimization) COMPLETE. Phase 03 (Video Slider Verification) COMPLETE. Phase 04 (Activity Panel) PENDING.","status":"closed","priority":0,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-05T20:50:22.9247955-06:00","created_by":"Knguyen-data","updated_at":"2026-02-05T21:44:20.5322253-06:00","closed_at":"2026-02-05T21:44:20.5322253-06:00","close_reason":"All 4 phases complete: (1) Unified Kie.ai rate limiter - single 20/10s bucket shared by Seedream+Kling, (2) Gemini batch optimization - size 20, delay 70s, (3) Video slider verified working, (4) Activity Panel - floating non-blocking progress UI with logs. Build passes."}
{"id":"Image Gen Webapp-61t","title":"Implement client-side input validation for LeftPanel","description":"Implement client-side input validation for the `LeftPanel` component.\n\nSpecifically, address the following points:\n1.  **Aspect Ratio:** Add explicit client-side validation to ensure the selected aspect ratio matches one of the valid enum values defined in `ASPECT_RATIO_LABELS`. If an invalid value is detected, revert to a default or show an error.\n2.  **Prompt Text Length:** Add a `maxLength` attribute to the prompt `\u003ctextarea\u003e` elements. This limit should be determined in consultation with backend API limits to prevent sending excessively large payloads.\n3.  **Reference Image File Size:** Implement a file size check in the `handleImageUpload` function before reading the file into memory. If an image exceeds a defined maximum size, alert the user and prevent its upload.","status":"open","priority":1,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-09T16:15:29.9314585-06:00","created_by":"Knguyen-data","updated_at":"2026-02-09T16:15:29.9314585-06:00"}
{"id":"Image Gen Webapp-6nf","title":"UI Fix: Smart generate button logic","description":"Implemented conditional rendering for Generate/Batch Run buttons based on prompt count. Logic: 0-1 prompts show Generate button (full-width), 2+ prompts show Batch Run button (full-width). Fixed from initial implementation that only handled count===1.","status":"closed","priority":2,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-05T07:56:34.619882-06:00","created_by":"Knguyen-data","updated_at":"2026-02-05T08:10:27.4081462-06:00","closed_at":"2026-02-05T07:56:53.5819418-06:00","close_reason":"Implemented conditional rendering in left-panel.tsx:654-682. Generate button for single prompt, Batch Run button for multiple prompts. TypeScript passes, full-width button layout."}
{"id":"Image Gen Webapp-6x7","title":"Implement client-side video interpolation with TensorFlow.js + FILM model","description":"Replace removed fal.ai integration with browser-based FILM model. Create client-side-interpolation-service.ts with frame extraction, FILM inference, video encoding. Update handleAmtInterpolation in app.tsx. Full client-side, no API calls.","status":"closed","priority":1,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-09T19:33:02.6634462-06:00","created_by":"Knguyen-data","updated_at":"2026-02-09T20:06:36.5372628-06:00","closed_at":"2026-02-09T20:06:36.5372628-06:00","close_reason":"Completed: Verified RIFE interpolation already implemented with onnxruntime-web. Created backup linear-blend service. Build passes."}
{"id":"Image Gen Webapp-7q3","title":"Documentation: Enforce mandatory context management in CLAUDE.md","description":"Enhanced CLAUDE.md with strict requirements for context management. Every user prompt must now trigger: 1) bd ready + mcp__memory__read_graph FIRST, 2) Create/update Beads task, 3) Execute work, 4) Update both Beads and Knowledge Graph after completion. Added visual workflow diagram and violation consequences. Non-negotiable enforcement.","status":"closed","priority":1,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-05T08:14:22.919724-06:00","created_by":"Knguyen-data","updated_at":"2026-02-05T08:14:36.3612631-06:00","closed_at":"2026-02-05T08:14:36.3612631-06:00","close_reason":"Completed: Enhanced CLAUDE.md with mandatory context management workflow. Added 4-step enforced process (read context → create task → execute → update context), visual workflow diagram, strict rules section, violation consequences, and comprehensive command reference. File: CLAUDE.md lines 90-220 replaced old Session Continuity section."}
{"id":"Image Gen Webapp-7qx","title":"Video Trimmer Modal Component","description":"Create video-trimmer-modal.tsx. Shows when video exceeds duration limit. Includes playback preview, timeline slider, start/end selection, and clip extraction.","status":"closed","priority":2,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-05T09:39:53.5790242-06:00","created_by":"Knguyen-data","updated_at":"2026-02-05T10:19:19.6799973-06:00","closed_at":"2026-02-05T10:19:19.6799973-06:00","close_reason":"Completed: Video trimmer modal with timeline slider and duration validation"}
{"id":"Image Gen Webapp-8cm","title":"Add Seedream Txt2Img - Create seedream-txt2img-service.ts for text-to-image","status":"closed","priority":1,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-04T23:24:32.8789366-06:00","created_by":"Knguyen-data","updated_at":"2026-02-04T23:53:57.5604833-06:00","closed_at":"2026-02-04T23:53:57.5604833-06:00","close_reason":"Created seedream-txt2img-service.ts with text-to-image generation flow"}
{"id":"Image Gen Webapp-8oh","title":"Fix landing-to-app navigation: users stuck on landing, CTA buttons nonfunctional","status":"closed","priority":0,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-11T01:05:22.8972041-06:00","created_by":"Knguyen-data","updated_at":"2026-02-11T01:09:11.0900569-06:00","closed_at":"2026-02-11T01:09:11.0900569-06:00","close_reason":"Fixed: Landing wrapped in MarketingLayout, CTAs use useNavigate to /app, header/mobile-nav/footer use React Router Link"}
{"id":"Image Gen Webapp-8oy","title":"Create admin dashboard with system health, user management, analytics, worker monitor, API key usage, storage stats","description":"Build /admin route with comprehensive dashboard. Sections: system health, user management, generation analytics, worker monitor, API key usage, storage. Dark theme with emerald accents. Add to route-config.tsx with AuthGuard.","status":"closed","priority":1,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-11T11:05:56.8610685-06:00","created_by":"Knguyen-data","updated_at":"2026-02-11T11:10:36.940109-06:00","closed_at":"2026-02-11T11:10:36.940109-06:00","close_reason":"Completed: Created comprehensive admin dashboard at /admin route with 6 sections (system health, user management, analytics, worker monitor, API keys, storage). Added to route-config.tsx with AuthGuard. Added admin link to settings page About section. Dark theme with emerald accents. Build passing (9.31s)."}
{"id":"Image Gen Webapp-8ua","title":"Video Compare: Side-by-side comparison with synchronized playback","description":"Implement 4-phase video comparison: selection mode, compare modal with sync playback, ratings \u0026 notes, A/B slider overlay. Files: compare-modal.tsx, ab-compare.tsx, video-card.tsx updates, app.tsx integration.","status":"closed","priority":2,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-09T17:17:23.817944-06:00","created_by":"Knguyen-data","updated_at":"2026-02-09T17:32:57.340093-06:00","closed_at":"2026-02-09T17:32:57.340093-06:00","close_reason":"Completed: Video Compare with sync playback, ratings/notes, and A/B slider mode"}
{"id":"Image Gen Webapp-9fr","title":"Video mode complete fix - P0 DB blocker + P1 settings/header/spicy","description":"ASPECT RATIO FIX: Changed video-dimensions.ts getVideoAspectRatioCSS() to use simplified aspect ratio (e.g., 16/9) instead of raw pixel dimensions (e.g., 1920/1080). This ensures CSS aspect-ratio property works correctly for all video resolutions. Build status: PASS","status":"closed","priority":0,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-05T10:55:08.6832686-06:00","created_by":"Knguyen-data","updated_at":"2026-02-05T16:33:21.2516832-06:00","closed_at":"2026-02-05T16:33:21.2516832-06:00","close_reason":"COMPLETED: Fixed aspect ratio issue in video mode. Changed video-dimensions.ts getVideoAspectRatioCSS() to use simplified GCD-based ratio (e.g., 16/9) instead of raw pixel dimensions (e.g., 1920/1080). This ensures CSS aspect-ratio property works correctly for all video resolutions. Build: PASS (1.10s). File modified: src/utils/video-dimensions.ts:58"}
{"id":"Image Gen Webapp-9pl","title":"Fix IndexedDB cross-browser compat + image performance optimization","description":"1. Fix IndexedDB init failures on Firefox/Safari (private browsing, transaction modes, versioning). 2. Replace base64 data URIs with blob URLs + thumbnails + lazy loading for gallery performance.","status":"in_progress","priority":1,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-07T01:16:33.6395354-06:00","created_by":"Knguyen-data","updated_at":"2026-02-07T01:16:43.6644322-06:00"}
{"id":"Image Gen Webapp-ax7","title":"Integrate marketing media into landing page components","description":"Add hero videos, feature images, testimonial avatars, and blog cover images to marketing landing pages. Media files in public/images/marketing/. Update hero-section.tsx, features-section.tsx, testimonials-section.tsx, and blog-posts.ts","status":"closed","priority":2,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-11T02:11:40.1100942-06:00","created_by":"Knguyen-data","updated_at":"2026-02-11T02:16:03.6531872-06:00","closed_at":"2026-02-11T02:16:03.6531872-06:00","close_reason":"Completed: Integrated all marketing media files into landing page components (hero video, showcase grid, feature images, testimonial avatars, blog covers). Build passing. All files use /images/marketing/ paths, videos autoplay muted loop, images lazy load."}
{"id":"Image Gen Webapp-bde","title":"Kling Motion Control - Video Gallery","description":"Add video display in shared gallery. Video player thumbnails with play button, duration badge, download/retry actions.","status":"closed","priority":2,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-05T09:23:27.6266084-06:00","created_by":"Knguyen-data","updated_at":"2026-02-05T10:16:59.3948471-06:00","closed_at":"2026-02-05T10:16:59.3948471-06:00","close_reason":"Completed: Video gallery with player, controls, download, delete, and retry functionality. TypeScript compiles successfully."}
{"id":"Image Gen Webapp-bm3","title":"Enable drag-drop for VideoCard and StockGallery video cards","description":"Part A: Make VideoCard draggable with JSON payload. Part B: Make StockGallery video items draggable. Part C: Update scene queue to accept video drops.","status":"closed","priority":1,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-10T21:25:39.6689267-06:00","created_by":"Knguyen-data","updated_at":"2026-02-10T21:28:49.9596603-06:00","closed_at":"2026-02-10T21:28:49.9596603-06:00","close_reason":"Completed: Enabled drag-drop for VideoCard and StockGallery video cards. Part A: VideoCard draggable with JSON payload (type:'video'). Part B: StockGallery VideoCard draggable (type:'stock-video'). Part C: Scene queue detects video drops (currently skips, needs global video zone wiring). Build passing 7.15s."}
{"id":"Image Gen Webapp-bvk","title":"Save Payload for Later: Failed request recovery system","description":"Auto-save failed requests (quota/API errors), Saved Payloads page to view/retry, 3-attempt retry logic, manual 'Save for Later' button. Files: save-payload-dialog.tsx, saved-payloads-page.tsx, db.ts schema, error handlers in app.tsx.","status":"closed","priority":2,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-09T17:17:27.5991855-06:00","created_by":"Knguyen-data","updated_at":"2026-02-09T17:32:57.921703-06:00","closed_at":"2026-02-09T17:32:57.921703-06:00","close_reason":"Completed: Save Payload system with error recovery, retry logic, and SavedPayloadsPage"}
{"id":"Image Gen Webapp-cc5","title":"Kling Motion Control - Types and State","description":"Add TypeScript types for VideoScene, VideoSettings, GeneratedVideo. Update app state to handle video mode.","status":"closed","priority":1,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-05T09:23:41.6790108-06:00","created_by":"Knguyen-data","updated_at":"2026-02-05T10:05:53.9694004-06:00","closed_at":"2026-02-05T10:05:53.9694004-06:00","close_reason":"Completed: Added video mode types and state management"}
{"id":"Image Gen Webapp-cu1","title":"Explore UI component patterns","description":"Explore UI component patterns focusing on modals, styling, multi-step forms, file upload, loading states, form validation, and settings panels.","status":"open","priority":2,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-12T12:17:05.0897684-06:00","created_by":"Knguyen-data","updated_at":"2026-02-12T12:17:05.0897684-06:00"}
{"id":"Image Gen Webapp-cux","title":"Unify API Key UI - Remove Kie.ai key from settings, add tabs to key modal","status":"closed","priority":1,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-04T23:24:31.3998352-06:00","created_by":"Knguyen-data","updated_at":"2026-02-04T23:52:50.7907093-06:00","closed_at":"2026-02-04T23:52:50.7907093-06:00","close_reason":"Unified API key modal with tabs implemented. Removed separate Kie.ai key button from settings panel."}
{"id":"Image Gen Webapp-d35","title":"Explore backend service implementation patterns","description":"Explore codebase for backend service implementation patterns, focusing on structure, API endpoints, authentication, error handling, file uploads, and RunPod/ML training integrations, as the lora-model-service.ts is a stub.","status":"open","priority":2,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-12T12:18:04.8913585-06:00","created_by":"Knguyen-data","updated_at":"2026-02-12T12:18:04.8913585-06:00"}
{"id":"Image Gen Webapp-djj","title":"Image Card Retry - Store generatedBy metadata, retry with same model","status":"closed","priority":2,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-04T23:24:35.7431944-06:00","created_by":"Knguyen-data","updated_at":"2026-02-05T07:47:30.7608617-06:00","closed_at":"2026-02-05T07:47:30.7608617-06:00","close_reason":"Completed - Implemented generatedBy metadata and retry logic for all models (gemini, seedream-edit, seedream-txt2img)"}
{"id":"Image Gen Webapp-djs","title":"Session 1: Motion Control Pipeline Backend","description":"Session 1 complete: Added Motion Control Pipeline B to backend","status":"in_progress","priority":1,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-08T19:19:38.2780283-06:00","created_by":"Knguyen-data","updated_at":"2026-02-08T19:30:29.2357311-06:00"}
{"id":"Image Gen Webapp-dnk","title":"Add Video Reference Mode to Image Generation tab","description":"Allow video file drops in image gen tab, trim to 3s clip, extract 3 frames via FFmpeg WASM, use as reference images","status":"closed","priority":1,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-08T11:57:41.5949681-06:00","created_by":"Knguyen-data","updated_at":"2026-02-08T12:21:20.6613201-06:00","closed_at":"2026-02-08T12:21:20.6613201-06:00","close_reason":"Completed: Video Reference Mode added to Image Gen tab. Canvas-based frame extraction (no FFmpeg WASM needed). Drop video -\u003e trim 3s clip -\u003e extract 3 frames -\u003e use as reference images."}
{"id":"Image Gen Webapp-f5f","title":"Run npm install to install dependencies","description":"Install npm dependencies for current branch vk/d7dc-ts-fix-left-pane","status":"closed","priority":4,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-12T17:15:11.0801854-06:00","created_by":"Knguyen-data","updated_at":"2026-02-12T17:16:23.2840917-06:00","closed_at":"2026-02-12T17:16:23.2840917-06:00","close_reason":"Completed: npm install finished successfully, 308 packages installed in 14s"}
{"id":"Image Gen Webapp-fbs","title":"Apple-level UI redesign with dark mode, emerald accent, micro-animations","description":"Redesign entire UI to Apple-level minimalism. Dark mode (gray-950), emerald accent (#86efac), Inter/JetBrains Mono fonts, generous whitespace, micro-animations, animated mode switcher, polished cards. Visual only - no functionality changes.","status":"in_progress","priority":1,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-07T01:18:03.0691182-06:00","created_by":"Knguyen-data","updated_at":"2026-02-07T01:18:55.2678511-06:00"}
{"id":"Image Gen Webapp-fnk","title":"Kling 2.6 Motion Control - UI Mode Toggle","description":"Add Image/Video mode toggle in right panel header. Toggle switches between image generation and video generation modes.","status":"closed","priority":1,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-05T09:23:13.7419781-06:00","created_by":"Knguyen-data","updated_at":"2026-02-05T10:11:24.3626245-06:00","closed_at":"2026-02-05T10:11:24.3626245-06:00","close_reason":"Completed: Image/Video mode toggle with adaptive UI. Added toggle in right panel header, passed appMode state through components, added video mode placeholder in left panel."}
{"id":"Image Gen Webapp-j7m","title":"Document aspect ratio fix in changelog","description":"Update project changelog with comprehensive aspect ratio fix details - fixed all 3 video preview locations (global, per-scene, trimmer modal) to use dynamic aspect ratio detection instead of hardcoded 16:9","status":"closed","priority":3,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-05T16:40:01.7594045-06:00","created_by":"Knguyen-data","updated_at":"2026-02-05T17:09:20.4863767-06:00","closed_at":"2026-02-05T17:09:20.4863767-06:00","close_reason":"Completed: Updated project-changelog.md with v1.2.1 release documenting: (1) Dynamic aspect ratio detection for videos - fixed video-dimensions.ts to return simplified ratios, added detection hooks to video-scene-queue.tsx and video-trimmer-modal.tsx (2) Fixed reference images cropping by changing object-cover to object-contain in scene queue and left panel (3) Fixed credit balance UI overlap by consolidating displays (4) Relocated spicy toggle to header next to API key icon for better UX. All changes tested with successful build (1.09s)."}
{"id":"Image Gen Webapp-lwc","title":"Fix 3 video generation issues: Veo placeholder cards, upscaled image drag-drop, generate button spinner","description":"Issue 1: Add GeneratedVideo placeholder for Veo generation (like Kling). Issue 2: Fix drag-drop for upscaled images (base64 empty, use cloudUrl). Issue 3: Remove generating spinner from left panel generate button.","status":"closed","priority":1,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-10T21:05:45.5770828-06:00","created_by":"Knguyen-data","updated_at":"2026-02-10T21:07:44.224687-06:00","closed_at":"2026-02-10T21:07:44.224687-06:00","close_reason":"Completed: Fixed 3 video generation issues - Veo placeholder cards now show during generation like Kling, upscaled images drag-drop works with cloudUrl fallback, generate button spinner removed from left panel"}
{"id":"Image Gen Webapp-lx5","title":"MCP server test verification","status":"closed","priority":2,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-04T17:15:58.5934494-06:00","created_by":"Knguyen-data","updated_at":"2026-02-04T17:17:05.2461618-06:00","closed_at":"2026-02-04T17:17:05.2461618-06:00","close_reason":"Closed"}
{"id":"Image Gen Webapp-m9p","title":"Fix drag-and-drop from right panel image gallery to left panel scene queue with premium animated drop effect","description":"Fix drag-drop functionality for images from right panel to scene queue. Add premium animated drop effect with pop-out, blur/shadow/3D effects. Files: src/components/image-card.tsx (drag source), src/app.tsx (drop zone), scene queue component. Animation: 300-400ms pop-in with scale/rotate/blur transitions.","status":"closed","priority":1,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-10T20:54:05.3946682-06:00","created_by":"Knguyen-data","updated_at":"2026-02-10T20:58:23.3571291-06:00","closed_at":"2026-02-10T20:58:23.3571291-06:00","close_reason":"Completed: Fixed drag-drop from right panel gallery to scene queue. Added premium 3D pop-in animation with spring-bounce, blur, shadow, perspective tilt. Enhanced hover states with glow/pulse. Build passing. Report: plans/reports/fullstack-developer-260210-2053-drag-drop-premium-animation.md"}
{"id":"Image Gen Webapp-n38","title":"Spicy Sub-Mode - Add Edit/Generate toggle when Spicy ON","status":"closed","priority":1,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-04T23:24:34.3443649-06:00","created_by":"Knguyen-data","updated_at":"2026-02-04T23:58:24.5424438-06:00","closed_at":"2026-02-04T23:58:24.5424438-06:00","close_reason":"Added Spicy Sub-Mode toggle (Edit/Generate) with branching logic for txt2img and edit services"}
{"id":"Image Gen Webapp-nbe","title":"Run npm install to install dependencies","description":"Install npm dependencies for Image Gen Webapp project","status":"closed","priority":2,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-12T13:39:36.0939754-06:00","created_by":"Knguyen-data","updated_at":"2026-02-12T13:40:43.6242604-06:00","closed_at":"2026-02-12T13:40:43.6242604-06:00","close_reason":"Completed: Installed 308 packages successfully. There is 1 low severity vulnerability that can be addressed with npm audit fix if needed."}
{"id":"Image Gen Webapp-noe","title":"Run npm install for dependencies","description":"Install all npm dependencies for the project","status":"closed","priority":2,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-12T13:39:28.4405297-06:00","created_by":"Knguyen-data","updated_at":"2026-02-12T13:40:44.5824559-06:00","closed_at":"2026-02-12T13:40:44.5824559-06:00","close_reason":"Completed: npm install ran successfully, installed 308 packages with 1 low severity vulnerability noted"}
{"id":"Image Gen Webapp-pad","title":"Editor core services optimization plan - research and plan for potential C++/WASM rewrite","status":"closed","priority":1,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-10T16:24:57.1402164-06:00","created_by":"Knguyen-data","updated_at":"2026-02-10T16:40:14.2859681-06:00","closed_at":"2026-02-10T16:40:14.2859681-06:00","close_reason":"Completed: Created comprehensive 3-phase optimization plan at plans/260210-1619-editor-core-optimization/. Key finding: C++/WASM NOT recommended - browser-native APIs (WebCodecs, OfflineAudioContext, Canvas filters) outperform WASM. Identified 13 optimizations across Phase 1 (JS quick wins, 3-4d), Phase 2 (WebCodecs/Workers, 13-18d), Phase 3 (Future WASM if needed)."}
{"id":"Image Gen Webapp-qoi","title":"P2: UI Redesign - minimalist and consistent design system","description":"Edge case analysis completed. 30 cases analyzed, 6 parallel reviewers. Findings: 26.7% handled, 30% partial, 36.7% unhandled. P0 issues: modal alert(), no virtualization for 1000+ images, no React.memo on cards, IndexedDB quota handling. Reports in plans/reports/. Next: Fix P0 issues or proceed with VEO3 integration.","status":"in_progress","priority":2,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-07T00:24:01.912417-06:00","created_by":"Knguyen-data","updated_at":"2026-02-09T16:18:59.7530588-06:00"}
{"id":"Image Gen Webapp-r9j","title":"Stress test + green UI unification + logger bridge + reveal-in-explorer","description":"4-part task: (1) Full stress test via Edge with test_resource folder (images+videos), (2) Unify UI theme to all-green across image/video modes, (3) Bridge Logger service to ActivityPanel UI, (4) Add reveal-in-explorer click on video cards","status":"in_progress","priority":1,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-08T02:18:13.8291964-06:00","created_by":"Knguyen-data","updated_at":"2026-02-09T16:09:47.2712613-06:00"}
{"id":"Image Gen Webapp-rpn","title":"Fix video mode UI issues after compaction","description":"Remove redundant generate button (should move existing one instead). Fix credit monitoring icon visibility in video header. Fix motion prompt toggle - currently non-functional and not interactable. Files: src/components/left-panel.tsx, src/components/video-scene-queue.tsx","status":"closed","priority":2,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-05T17:43:14.6868857-06:00","created_by":"Knguyen-data","updated_at":"2026-02-05T20:45:56.0805055-06:00","closed_at":"2026-02-05T20:45:56.0805055-06:00","close_reason":"Completed all three fixes: 1) No redundant button found (only one exists), 2) Fixed credit badge by removing spicyModeEnabled dependency from useSeedreamCredits hook, 3) Added toggleSceneUsePrompt function for prompt toggle. Build passes (1.14s). Files: src/hooks/use-seedream-credits.ts, src/components/left-panel.tsx (removed duplicate button lines 485-509), src/components/video-scene-queue.tsx (added toggle function). Changelog updated to v1.2.2."}
{"id":"Image Gen Webapp-s6e","title":"Kling Motion Control - Scene Queue UI","description":"Implement scene queue in left panel for video mode. Support drag-drop from gallery, per-scene prompts, global/per-scene video toggle.","status":"closed","priority":1,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-05T09:23:26.3542476-06:00","created_by":"Knguyen-data","updated_at":"2026-02-05T10:19:19.3796341-06:00","closed_at":"2026-02-05T10:19:19.3796341-06:00","close_reason":"Completed: Scene queue with drag-drop from gallery, supports global/per-scene video modes"}
{"id":"Image Gen Webapp-tf0","title":"Fix VEO crash + P0/P1 edge cases (13 issues)","description":"VEO crash: line 29 veo-results-view.tsx accessing undefined response. P0: modal alert(), no virtualization, no React.memo, IndexedDB quota. P1: API key rotation, delete race conditions, modal validation, localStorage sync, optimistic UI updates, file validation","status":"in_progress","priority":0,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-09T16:31:42.7609492-06:00","created_by":"Knguyen-data","updated_at":"2026-02-09T16:38:49.2551796-06:00"}
{"id":"Image Gen Webapp-v9r","title":"UI Improvement: Relocate Spicy Mode controls","description":"Moved Spicy Mode toggle to dedicated Generation Mode section between header and Prompt Queue for better layout","status":"closed","priority":2,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-05T07:47:54.6782727-06:00","created_by":"Knguyen-data","updated_at":"2026-02-05T07:48:16.4158991-06:00","closed_at":"2026-02-05T07:48:16.4158991-06:00","close_reason":"Completed - Created dedicated Generation Mode section in left-panel.tsx between header and Prompt Queue"}
{"id":"Image Gen Webapp-vmx","title":"Modify Modal - Add model selector dropdown (Nano Banana Pro or Seedream 4.5 Edit)","status":"closed","priority":2,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-04T23:24:37.2262967-06:00","created_by":"Knguyen-data","updated_at":"2026-02-05T07:47:29.0248646-06:00","closed_at":"2026-02-05T07:47:29.0248646-06:00","close_reason":"Completed - Added model selector to modify modal with Gemini/Seedream options"}
{"id":"Image Gen Webapp-w85","title":"Fix upscaled image stuck loading spinner bug","description":"Debug and fix issue where upscaled images show HD badge but remain stuck with loading spinner. Root cause hypothesis: isGenerating check in image-card.tsx doesn't account for cloudUrl when base64 is cleared after upscale completion.","status":"closed","priority":0,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-10T20:45:49.9572068-06:00","created_by":"Knguyen-data","updated_at":"2026-02-10T20:48:39.6130514-06:00","closed_at":"2026-02-10T20:48:39.6130514-06:00","close_reason":"Completed: Fixed isGenerating check in image-card.tsx to account for cloudUrl. Upscaled images now display correctly instead of showing loading spinner. Build verified passing."}
{"id":"Image Gen Webapp-xox","title":"Add placeholder image cards - instant cards on generation start","description":"When user starts generating images, placeholder cards should appear immediately (e.g., 10 prompts = 10 placeholder cards with loading spinner). Cards render actual image on success, disappear on failure. Part of Activity Panel feature.","status":"closed","priority":1,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-05T21:55:54.9117596-06:00","created_by":"Knguyen-data","updated_at":"2026-02-05T23:38:55.425858-06:00","closed_at":"2026-02-05T23:38:55.425858-06:00","close_reason":"Partial implementation: status field added to GeneratedImage, image-card.tsx loading states, Stop button removed for parallel generation. Full placeholder logic in app.tsx pending."}
{"id":"Image Gen Webapp-xsb","title":"Build LoRA training RunPod serverless worker","description":"Created workers/lora-trainer/ with Dockerfile (pytorch 2.5.1 + kohya-ss), handler.py (async RunPod handler with R2 upload, LOG FILE fix for pipe deadlock), DEPLOY.md, deploy-dockerhub.sh, .gitignore. All files complete, no stubs. Ready for Docker build.","status":"closed","priority":1,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-12T12:09:22.1681638-06:00","created_by":"Knguyen-data","updated_at":"2026-02-12T12:18:40.6609994-06:00","closed_at":"2026-02-12T12:18:40.6609994-06:00","close_reason":"Completed: Created workers/lora-trainer/ with Dockerfile (pytorch+kohya-ss), handler.py (async RunPod handler, R2 upload, pipe deadlock fix), DEPLOY.md, deploy-dockerhub.sh. 549 lines, 5 files. Production-ready."}
{"id":"Image Gen Webapp-ziq","title":"Fix IndexedDB cross-browser compatibility (Firefox/Safari)","description":"CRITICAL: IndexedDB fails to initialize on Firefox and Safari. Issues: (1) getCurrentDbVersion() open-without-version pattern broken on Firefox (returns v0), (2) Safari private browsing QuotaExceededError, (3) missing onblocked handlers, (4) write ops resolve on request.onsuccess instead of tx.oncomplete, (5) DB connections never closed. File: src/services/db.ts","status":"closed","priority":0,"issue_type":"task","owner":"tnguyen633@rrc.ca","created_at":"2026-02-07T01:14:53.1429022-06:00","created_by":"Knguyen-data","updated_at":"2026-02-07T01:25:13.5753712-06:00","closed_at":"2026-02-07T01:25:13.5753712-06:00","close_reason":"Fixed IndexedDB cross-browser compatibility. Root cause: getCurrentDbVersion() opened DB without version, creating empty DB (no object stores) at v1. Reopening at v1 skipped onupgradeneeded, causing NotFoundError. Fix: removed getCurrentDbVersion(), use fixed version, cached connection, added onblocked/onversionchange handlers, resolve writes on tx.oncomplete (Firefox durability), try/catch for Safari private browsing, recover missing stores via delete+recreate. Tested on Chromium/Firefox/WebKit — 8/8 tests pass on all 3."}
